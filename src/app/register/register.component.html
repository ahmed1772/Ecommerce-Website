<h2 class="text-success fa-bold text-center mt-4">Register Form</h2>
<div class="container mb-5 my-5">

    @if (errorMessage().length > 0)
    {
      <div class="alert alert-danger mt-2" role="alert">{{errorMessage()}}</div>
    }

  <form [formGroup]="registerForm" (ngSubmit)="registerSubmit()">
    
    <div>
      <label for="Name" class="form-label my-2">Name :</label>
      <input formControlName="name" type="text" id="Name" class="form-control">
      @if (registerForm.get('name')?.errors&& registerForm.get('name')?.touched)
      {
        @if (registerForm.get('name')?.getError('required'))
        {

          <div class="alert alert-danger mt-2" role="alert">Required</div>
        }
        @else if (registerForm.get('name')?.getError('minlength'))
        {

          <div class="alert alert-danger mt-2" role="alert">minmum length should be 3 at least</div>
        }
        @else if (registerForm.get('name')?.getError('maxlength'))
        {
          <div class="alert alert-danger" role="alert">maximum length cant be more than 20</div>
        }
      }
    </div>

    <div>
      <label for="Email" class="form-label my-2">Email :</label>
      <input formControlName="email" type="email" id="Email" class="form-control">
      @if (registerForm.get('email')?.errors && registerForm.get('email')?.touched)
      {
        @if (registerForm.get('email')?.getError('required'))
        {
          <div class="alert alert-danger mt-2" role="alert"> Required</div>
        }
        @else if (registerForm.get('email')?.getError('email')&&registerForm.get('email')?.touched)
        {
          <div class="alert alert-danger mt-2" role="alert"> Please enter valid Email</div>
        }
      }
    </div>

    <div>
      <label for="Password" class="form-label my-2">Password :</label>
      <input formControlName="password" type="password" id="Password" class="form-control">
      @if (registerForm.get('password')?.getError('required') && registerForm.get('password')?.touched)
      {
        <div class="alert alert-danger mt-2" role="alert"> Required </div>
      }
      @else if (registerForm.get('password')?.getError('pattern'))
      {
        <div class="alert alert-danger mt-2" role="alert"> please Enter Valid Password </div>
      }
    </div>

    <div>
      <label for="repass" class="form-label my-2">Confirm Password :</label>
      <input formControlName="rePassword" type="password" id="repass" class="form-control">
      @if (registerForm.errors?.['notMatched'] && registerForm.get('rePassword')?.touched)
      {
         <div class="alert alert-danger mt-2" role="alert"> Password Not Match </div>
      }
    </div>

    <div>
      <label for="phone" class="form-label my-2">Phone :</label>
      <input formControlName="phone" type="tel" id="phone" class="form-control">
      @if (registerForm.get('phone')?.errors && registerForm.get('phone')?.touched)
      {
        @if (registerForm.get('phone')?.getError('required'))
        {
          <div class="alert alert-danger mt-2" role="alert"> Required</div>
        }
        @else if (registerForm.get('phone')?.getError('pattern'))
        {
          <div class="alert alert-danger mt-2" role="alert"> Please enter valid Phone Number</div>
        }
      }

    </div>
    <div class="d-flex justify-content-center align-items-center">
      <button [disabled]="!registerForm.valid" type="submit" class="btn btn-success mt-4">Register Now
       @if(isLoadoing()){<i class="fa-solid fa-spinner fa-spin"></i>}</button>

    </div>
  </form>
</div>