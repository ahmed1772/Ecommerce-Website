<h2 class="text-success fa-bold text-center mt-4">Login Form</h2>
<div class="container mb-5 my-5">

    @if (errorMessage().length > 0)
    {
      <div class="alert alert-danger mt-2" role="alert">{{errorMessage()}}</div>
    }

  <form [formGroup]="loginForm" (ngSubmit)="loginSubmit()">
    
    <div>
      <label for="Email" class="form-label my-2">Email :</label>
      <input formControlName="email" type="email" id="Email" class="form-control">
      @if (loginForm.get('email')?.errors && loginForm.get('email')?.touched)
      {
        @if (loginForm.get('email')?.getError('required'))
        {
          <div class="alert alert-danger mt-2" role="alert"> Required</div>
        }
        @else if (loginForm.get('email')?.getError('email')&&loginForm.get('email')?.touched)
        {
          <div class="alert alert-danger mt-2" role="alert"> Please enter valid Email</div>
        }
      }
    </div>

    <div>
      <label for="Password" class="form-label my-2">Password :</label>
      <input formControlName="password" type="password" id="Password" class="form-control">
      @if (loginForm.get('password')?.getError('required') && loginForm.get('password')?.touched)
      {
        <div class="alert alert-danger mt-2" role="alert"> Required </div>
      }
      @else if (loginForm.get('password')?.getError('pattern'))
      {
        <div class="alert alert-danger mt-2" role="alert"> please Enter Valid Password </div>
      }
    </div>

    <div class="d-flex justify-content-center align-items-center">
      <button [disabled]="!loginForm.valid" type="submit" class="btn btn-success mt-4">Login Now
       @if(isLoadoing()){<i class="fa-solid fa-spinner fa-spin"></i>}</button>

    </div>
  </form>
</div>